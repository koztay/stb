{% load staticfiles %}

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="{% static 'js/bootstrap.js' %}"></script>
<!-- Custom js -->
<script src="{% static 'js/custom.js' %}"></script>
<!-- Custom message js -->
<script src="{% static 'js/custom_message.js' %}"></script>


<script>

    function updateCartItemCount() {
        var badge = $("#cart-count-badge");

        $.ajax({
            type: "GET",
            url: "{% url 'item_count' %}",
            success: function (data) {
                badge.text(data.count);
                console.log(data.count);
            },
            error: function (response, error) {
                console.log(response);
                console.log(error);
            }

        })

    }
    $(document).ready(function () {

        updateCartItemCount()
    })

</script>